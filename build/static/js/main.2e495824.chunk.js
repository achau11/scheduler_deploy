(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(50)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),c=n.n(i),s=(n(24),n(4)),m=n.n(s);n(25);function o(e){var t=m()("day-list__item",{"day-list__item--selected":e.selected,"day-list__item--full":!e.spots});return r.a.createElement("li",{className:t,onClick:function(){return e.setDay(e.name)}},r.a.createElement("h2",{className:"text--regular"},e.name),r.a.createElement("h3",{className:"text--light"},e.spots?1===e.spots?"".concat(e.spots," spot remaining"):"".concat(e.spots," spots remaining"):"no spots remaining"))}function l(e){var t=e.days.map(function(t){return r.a.createElement(o,{key:t.id,name:t.name,spots:t.spots,selected:t.name===e.day,setDay:e.setDay})});return r.a.createElement("ul",null,t)}n(26);function u(e){return r.a.createElement("header",{className:"appointment__time"},r.a.createElement("h4",{className:"text--semi-bold"},e.time),r.a.createElement("hr",{className:"appointment__separator"}))}function p(e){return r.a.createElement("main",{className:"appointment__card appointment__card--show"},r.a.createElement("section",{className:"appointment__card-left"},r.a.createElement("h2",{className:"text--regular"},e.student),r.a.createElement("section",{className:"interviewer"},r.a.createElement("h4",{className:"text--light"},"Interviewer"),r.a.createElement("h3",{className:"text--regular"},e.interviewer.name))),r.a.createElement("section",{className:"appointment__card-right"},r.a.createElement("section",{className:"appointment__actions"},r.a.createElement("img",{className:"appointment__actions-button",src:"images/edit.png",alt:"Edit",onClick:e.onEdit}),r.a.createElement("img",{className:"appointment__actions-button",src:"images/trash.png",alt:"Delete",onClick:e.onDelete}))))}function d(e){return r.a.createElement("main",{className:"appointment__add"},r.a.createElement("img",{className:"appointment__add-button",src:"images/add.png",alt:"Add",onClick:e.onAdd}))}function v(e){return r.a.createElement("main",{className:"appointment__card appointment__card--status"},r.a.createElement("img",{className:"appointment__status-image",src:"images/status.png",alt:"Loading"}),r.a.createElement("h1",{className:"text--semi-bold"},e.message))}n(27);function E(e){var t=m()("button",{"button--confirm":e.confirm,"button--danger":e.danger});return r.a.createElement("button",{className:t,onClick:e.onClick,disabled:e.disabled},e.children)}function f(e){return r.a.createElement("main",{className:"appointment__card appointment__card--confirm"},r.a.createElement("h1",{className:"text--semi-bold"},e.message),r.a.createElement("section",{className:"appointment__actions"},r.a.createElement(E,{danger:!0,onClick:e.onCancel},"Cancel"),r.a.createElement(E,{danger:!0,onClick:e.onConfirm},"Confirm")))}function _(e){return r.a.createElement("main",{className:"appointment__card appointment__card--error"},r.a.createElement("section",{className:"appointment__error-message"},r.a.createElement("h1",{className:"text--semi-bold"},"Error"),r.a.createElement("h3",{className:"text--light"},e.message)),r.a.createElement("img",{className:"appointment__error-close",src:"images/close.png",alt:"Close",onClick:e.onClose}))}var w=n(3);n(28);function g(e){var t=m()("interviewers__item",{"interviewers__item--selected":e.selected});return r.a.createElement("li",{className:t,onClick:e.setInterviewer},r.a.createElement("img",{className:"interviewers__item-image",src:e.avatar,alt:e.name}),e.selected&&e.name)}n(29);var b=function(e){var t=e.interviewers.map(function(t){return r.a.createElement(g,{key:t.id,name:t.name,avatar:t.avatar,selected:t.id===e.interviewer,setInterviewer:function(n){return e.setInterviewer(t.id)}})});return r.a.createElement("section",{className:"interviewers"},r.a.createElement("h4",{className:"interviwers__header text--light"},"Interviewer"),r.a.createElement("ul",{className:"interviewers__list"},t))};function N(e){var t=Object(a.useState)(e.name||""),n=Object(w.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(e.interviewer||null),m=Object(w.a)(s,2),o=m[0],l=m[1],u=Object(a.useState)(""),p=Object(w.a)(u,2),d=p[0],v=p[1],f=function(){c(""),l(null),e.onCancel()};return r.a.createElement("main",{className:"appointment__card appointment__card--create"},r.a.createElement("section",{className:"appointment__card-left"},r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{className:"appointment__create-input text--semi-bold",name:"name",type:"text",value:i,placeholder:"Enter Student Name",onChange:function(e){return c(e.target.value)},"data-testid":"student-name-input"}),r.a.createElement("section",{className:"appointment__validation"},d)),r.a.createElement(b,{interviewers:e.interviewers,interviewer:o,setInterviewer:l})),r.a.createElement("section",{className:"appointment__card-right"},r.a.createElement("section",{className:"appointment__actions"},r.a.createElement(E,{danger:!0,onClick:function(e){return f()}},"Cancel"),r.a.createElement(E,{confirm:!0,onClick:function(){""!==i?null!==o?(v(""),e.onSave(i,o)):v("Please pick an interviewer"):v("Student name cannot be blank")}},"Save"))))}var h=n(8);n(30);function y(e){var t="EMPTY",n="SHOW",i="SAVING",c="DELETING",s="ERROR_SAVE",m="ERROR_DELETE",o=function(e){var t=Object(a.useState)(e),n=Object(w.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([e]),s=Object(w.a)(c,2),m=s[0],o=s[1];return{mode:r,transition:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(t?function(t){return[].concat(Object(h.a)(t.slice(0,-1)),[e])}:function(t){return[].concat(Object(h.a)(t),[e])}),i(e)},back:function(){m.length>1&&(i(m[m.length-2]),o(m.slice(0,-1)))}}}(e.interview?n:t),l=o.mode,E=o.transition,g=o.back;function b(t,a){var r={student:t,interviewer:a};E(i),e.bookInterview(e.id,r).then(function(){return E(n)}).catch(function(){return E(s,!0)})}return r.a.createElement("article",{className:"appointment"},r.a.createElement(u,{time:e.time}),l===i&&r.a.createElement(v,{message:"Saving"}),l===s&&r.a.createElement(_,{message:"Could not save appointment",onClose:g}),l===m&&r.a.createElement(_,{message:"Could not delete appointment",onClose:g}),l===c&&r.a.createElement(v,{message:"Deleting"}),l===t&&r.a.createElement(d,{onAdd:function(){return E("CREATE")}}),l===n&&r.a.createElement(p,{student:e.interview.student,interviewer:e.interview.interviewer,onDelete:function(){return E("CONFRIM")},onEdit:function(){return E("EDIT")}}),"CREATE"===l&&r.a.createElement(N,{name:e.name,value:e.value,interviewers:e.interviewers,onCancel:g,onSave:b}),"EDIT"===l&&r.a.createElement(N,{name:e.interview.student,interviewer:e.interview.interviewer.id,interviewers:e.interviewers,onSave:b,onCancel:g}),"CONFRIM"===l&&r.a.createElement(f,{message:"Are you sure you would like to delete?",onCancel:g,onConfirm:function(){E(c,!0),e.cancelInterview(e.id).then(function(){return E(t)}).catch(function(){return E(m,!0)})}}))}var C=n(6),O=n(2),j=n(5),k=n.n(j);c.a.render(r.a.createElement(function(e){var t=function(){var e=Object(a.useState)({day:"Monday",days:[],appointments:{1:{id:1,time:"12pm",interview:null}},interviewers:{}}),t=Object(w.a)(e,2),n=t[0],r=t[1];function i(e,t){var n=e.days.find(function(t){return t.name===e.day}),a=0,r=!0,i=!1,c=void 0;try{for(var s,m=n.appointments[Symbol.iterator]();!(r=(s=m.next()).done);r=!0)t[s.value].interview||a++}catch(l){i=!0,c=l}finally{try{r||null==m.return||m.return()}finally{if(i)throw c}}var o=Object(O.a)({},n,{spots:a});return e.days.map(function(t){return t.name===e.day?o:t})}return Object(a.useEffect)(function(){Promise.all([k.a.get("/api/days"),k.a.get("/api/appointments"),k.a.get("/api/interviewers")]).then(function(e){r(function(t){return Object(O.a)({},t,{days:e[0].data,appointments:e[1].data,interviewers:e[2].data})})})},[]),{state:n,setDay:function(e){return r(Object(O.a)({},n,{day:e}))},bookInterview:function(e,t){var a=Object(O.a)({},n.appointments[e],{interview:Object(O.a)({},t)}),c=Object(O.a)({},n.appointments,Object(C.a)({},e,a));return k.a.put("/api/appointments/".concat(e),{interview:t}).then(function(){var e=i(n,c);r(Object(O.a)({},n,{appointments:c,days:e}))})},cancelInterview:function(e){var t=Object(O.a)({},n.appointments[e],{interview:null}),a=Object(O.a)({},n.appointments,Object(C.a)({},e,t));return k.a.delete("/api/appointments/".concat(e),{}).then(function(){var e=i(n,a);r(Object(O.a)({},n,{appointments:a,days:e}))})}}}(),n=t.state,i=t.setDay,c=t.bookInterview,s=t.cancelInterview,m=function(e,t){var n=e.days.filter(function(e){return e.name===t}),a=[];return n.map(function(t){t.appointments.map(function(t){a.push(e.appointments[t])})}),a}(n,n.day),o=function(e,t){var n=e.days.filter(function(e){return e.name===t}),a=[];return n.map(function(t){t.interviewers.map(function(t){a.push(e.interviewers[t])})}),a}(n,n.day),u=m.map(function(e){var t=function(e,t){var n={};for(var a in e.interviewers){if(null===t)return null;e.interviewers[a].id===t.interviewer&&(n.student=t.student,n.interviewer=e.interviewers[a])}return n}(n,e.interview);return r.a.createElement(y,Object.assign({key:e.id},e,{bookInterview:c,cancelInterview:s,interview:t,interviewers:o}))});return r.a.createElement("main",{className:"layout"},r.a.createElement("section",{className:"sidebar"},r.a.createElement("img",{className:"sidebar--centered",src:"images/logo.png",alt:"Interview Scheduler"}),r.a.createElement("hr",{className:"sidebar__separator sidebar--centered"}),r.a.createElement("nav",{className:"sidebar__menu"},r.a.createElement(l,{day:n.day,days:n.days,setDay:i})),r.a.createElement("img",{className:"sidebar__lhl sidebar--centered",src:"images/lhl.png",alt:"Lighthouse Labs"})),r.a.createElement("section",{className:"schedule"},u,r.a.createElement(y,{key:"last",time:"5pm"})))},null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.2e495824.chunk.js.map